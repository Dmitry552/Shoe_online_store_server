# Shoe_online_store_server

## Запуск проекта
 
`npm install` - Установка зависимостей

`npm run start` - Запуск проекта

## URL адреса для взаимодейтсвия с API

Разширенные данные по API смотри [сдесь](#)

|Адрес запроса               |Описание                        |Тип запроса    |Контроллер     |
|----------------------------|--------------------------------|---------------|--------------|
|**`api/user/...`**          |**Работа с пользователями**     |               |userController|
|`api/user`                  |Страница пользователя           |`GET`          |
|`api/user`                  |Изменение данных пользователя   |`POST`         |
|`api/user`                  |Удаление пользователя           |`DELETE`       |
|`api/user/login`            |Авторизация                     |`GET`          |
|`api/user/registration`     |Регистрация                     |`POST`         |
|`api/user/activate`         |Активация аккаунта              |`GET`          |
|`api/user/refresh`          |Перезапись токена               |`GET`          |
|`api/user/logout      `     |Выйти из аккаунта               |`POST`         |
|`api/user/auth`             |Аутонтификация                  |`GET`          |
|`api/user/role`             |Изменение роли пользователя     |`POST`         | ?????
|`api/user/avatar`           |Загрузка аватара                |`POST`         |
|`api/user/avatar`           |Удаление аватара                |`DELETE`       |
|`api/user/recovery`         |Востановление доступа           |`POST`         |
|**`api/basket/...`**        |**Работа с корзиной**           |               |basketController
|`api/basket`                |Запрос содержимого корзины      |`GET`          |
|`api/basket`                |Удалить товар из корзины        |`DELETE`       |
|`api/basket`                |Добавление товаров в корзину    |`POST`         |
|`api/basket/clear`          |Очистка корзины                 |`GET`          |
|**`api/preferences/...`**   |**Работа с предпочтениями**     |               |preferencesController
|`api/preferences`           |Запрос содержимого предпочтения |`GET`          |
|`api/preferences`           |Добавление предпочтения         |`POST`         |
|`api/preferences`           |Удалить предпочтения            |`DELETE`       |
|`api/preferences/clear`     |Очистка предпочтения            |`GET`          |
|**`api/comparison/...`**    |**Работа со сравнениями**       |               |comparisonController
|`api/comparison`            |Запрос содержимого сравнения    |`GET`          |
|`api/comparison`            |Добавление сравнения            |`POST`         |
|`api/comparison`            |Удалить сравнения               |`DELETE`       |
|`api/comparison/clear`      |Очистка сравнения               |`GET`          |
|**`api/product/...`**       |**Работа с продуктами**         |               |productController
|`api/product`               |Вывод продуктов                 |`GET`          |
|`api/product`               |Изменение данных продукта       |`POST`         |
|`api/product`               |Удаление продукта               |`DELETE`       |
|`api/product/history`       |Удаление товара из истории      |`DELETE`       |
|`api/product/rating`        |Установить рейтинг              |`GET`          |
|**`api/comment/...`**       |**Работа с комментариями**      |               |commentController
|`api/comment`               |Вывод комментариев              |`GET`          |
|`api/comment`               |Добавление комментария          |`POST`         |
|`api/comment`               |Удаление комментария            |`DELETE`       |
|**`api/ban/...`**           |**Работа с запретами**          |               |banController
|`api/ban`                   |Изменение запрета               |`GET`          |
|**`api/catalog/...`**       |**Работа с каталогом товара**   |               |catalogController
|`api/catalog`               |Запрос содержимого каталога     |`GET`          |
|`api/catalog`               |Добавление записи в каталог     |`POST`         |
|`api/catalog`               |Удаление записи из каталог      |`DELETE`       |
|**`api/brand/...`**         |**Работа с брендами**           |               |brandController
|`api/brand`                 |Запрос содержимого бренда       |`GET`          |
|`api/brand`                 |Добавление записи в бренда      |`POST`         |
|`api/brand`                 |Удаление записи из бренда       |`DELETE`       |
|**`api/search/...`**        |**Работа с фильтрацией**        |               |searchController
|`api/search`                |Данные на фильтрацию товара     |`POST`         |

## Типы ролей пользователей

#### USER

>`Авторизация`, `Регистрация`, `Аутонтификация`, `Просмотр своей страницы пользователя`, `Изменение своих данных пользователя`, `Загрузка своего аватара`,
`Удаление своего аватара`, `Востановление своего доступа`, `Запрос содержимого своей корзины`, `Удалить товар из своей корзины`, `Добавление товаров в свою корзину`,
`Очистка своей корзины`, `Запрос содержимого своих предпочтений`, `Добавление своего предпочтения`, `Удалить своего предпочтения`, `Очистка своих предпочтения`, 
`Запрос своего содержимого сравнения`, `Добавление своих сравнений`, `Удалить своих сравнения`, `Очистка своих сравнения`,
`Вывод продуктов`, `Установить рейтинг на продукт`, `Вывод комментариев`, `Добавление своего комментария`, `Удаление своего комментария`.

#### MODERATOR

>Тоже что и USER + `Удаление любого комментария`, `Изменение типа запрета любого пользователя`.

#### ADMIN

>Тоже что и MODERATOR + `Просмотр страницы любого пользователя`, `Изменение роли любого пользователя`, `Удаление аватара любого пользователя`, `Запрос содержимого корзины любого пользователя`, `Очистка любой корзины`, `Запрос содержимого предпочтений любого пользователя`, `Очистка предпочтений любого пользователя`, 
`Запрос содержимого сравнения любого пользователя`, `Очистка сравнения любого пользователя`,
`Изменение данных продукта`, `Удаление продукта`, `Добавление продукта `, `Изменение рейтинга на любой продукт`.